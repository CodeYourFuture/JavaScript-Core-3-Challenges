<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>Meteoropolis</title>
  <link rel="stylesheet" href="assets/globals.css">
  <link rel="stylesheet" href="assets/styles.css">
</head>

<body>
  <!-- Structure -->
  <main class="content">
    <header class="header">
      <h1 class="title">
        <i>Meteor</i>
        <i>opolis</i>
      </h1>
    </header>

    <figure class="photo" id="photo"> <img src ="https://media.wired.com/photos/62ad060183fe550206add755/m"></figure>

    <div class="info">
      <p class="info__item info__item--conditions" id="conditions"></p>
      <p class="info__item info__item--credits">
        <a href="#" id="credit-user"></a>
        <span>on</span>
        <a href="#" id="credit-platform">Unsplash</a>
      </p>
    </div>

    <div class="thumbs" id="thumbs"></div>
<div class = "displayWeather">
  <h1 class ="temp"></h1>
<p class = "desc"></p></div>
    <div class="controls">
      <form class="search" id="search">
        <label class="search__label" for="search-tf">City</label>
        <input class="search__input" id="search-tf" name="city" placeholder="Enter city name" autocomplete="city" />
        <button  type = "button" class="btn search__btn">Go</button>
      </form>
    </div>
  </main>
<script>
  const searchEle = document.querySelector(".search");
  const temp = document.querySelector(".temp");
  const desc =document.querySelector(".desc");
  const inputValue = document.querySelector(".search__input");
  const button = document.querySelector(".search__btn");
  const photo = document.getElementById("photo");

  button.addEventListener("click", function(){
  fetch(`http://api.openweathermap.org/data/2.5/weather?q=${inputValue.value}&units=metric&appid=573c7cb004f7a0e53b5e11124182b081`)
  .then(function(response){
    return response.json();
  })
  .then((data) =>{
    display(data);
  })
  .catch((error) =>{
    alert("wrong city name")
  });
});

const display = (weather)=>{
  temp.innerText = `${weather.main.temp}Â°C`
  desc.innerText = `${weather.weather[0].description}`
}

button.addEventListener("click", function(){
fetch("https://api.unsplash.com/search/photos?query=snow&client_id=S3hiWtfhliRCsGQyALLAmnrjtgwfHMrUEopR4w67r7U")
  .then(function(response){
    return response.json();
  })
  .then((data) =>{
    console.log(data)
    displayImg(data);
  })
  .catch((error) =>{
    console.log(error)
  });
})

  </script>
</body>

</html>
